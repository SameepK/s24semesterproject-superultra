
<!DOCTYPE html>
<html lang="en">
<head><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-3974203-1', 'auto'); ga('send', 'pageview');</script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-3974203-1', 'auto'); ga('send', 'pageview');
    function getCookie(name) {
            let nameEQ = name + "=";
            let ca = document.cookie.split(';');
            for(let i=0;i < ca.length;i++) {
                let c = ca[i];
                while (c.charAt(0)==' ') c = c.substring(1,c.length);
                if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
            }
            return null;
        }
    function setCookie(name, value, days) {
        const date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        const expires = "expires=" + date.toUTCString();
        document.cookie = `${name}=${value};${expires};path=/`;
}
function showPopup() {
    const popup = document.getElementById("profile-popup");
    popup.classList.add("show"); // Show the popup
}

function hidePopup() {
    const popup = document.getElementById("profile-popup");
    popup.classList.remove("show"); // Hide the popup
}
function selectProfile(img) {
    setCookie("profile_pic", img.src, 7); // Store the selected profile picture in a cookie
    hidePopup(); // Hide the popup after selection
    document.getElementById("profile-img").src = img.src; // Update the header with the selected profile picture
}



        window.onload = function() {
            const username = getCookie("usercookie");
            if (username) {
                document.getElementById("greeting").textContent = "Welcome back, " + username + "!";
            } else {
                window.location.href = "index.html"; // Redirect to login if no cookie
            }
            const profilePicSrc = getCookie("profile_pic");
            if (profilePicSrc) {
                document.getElementById("profile-img").src = profilePicSrc; // Update header
            } else {
                showPopup(); // Display popup for profile selection
            }
        };
    </script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <!-- <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="quick_menu.css">

    <link rel="stylesheet" href="menu_toggle.css"> -->

    <link rel="stylesheet" href="menu_toggle.css">
    <link rel="stylesheet" href="quick_menu.css">
    <link rel="stylesheet" href="menu_toggle.css">

    <style>
header {
    display: flex; /* Enables flexbox layout within the header */
    justify-content: center; /* Centers the items horizontally */
    align-items: center; /* Aligns items vertically */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%; /* Full width */
    padding: 10px 0; /* Padding around the header content */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Optional: adds shadow for depth */
}

h1, #greeting {
    margin: 0 10px; /* Adds space between the 'Main Page' and 'Welcome!' */
    font-size: 24px; /* Ensures the font size is consistent */
}
        /* css for style.css */
        /* Hamburger Menu Icon */
.hamburger-menu {
    cursor: pointer;
    position: absolute;
    top: 10px; /* Adjust as needed */
    right: 10px; /* Adjust as needed */
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    width: 70px;
    height: 50px;
}

.hamburger-menu .bar {
    height: 7px;
    width: 100%;
    background-color: black;
    border-radius: 10px;
}

/* Slide-in Menu Container */
.menu-container {
    position: fixed;
    top: 0;
    right: -250px; /* Start offscreen */
    width: 250px; /* Width of the menu */
    height: 100%;
    background: white;
    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.5);
    transition: right 0.3s;
    padding: 20px;
    box-sizing: border-box;
}

body {
    font-family: sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    background-color: #f0f0f0; 
    background-image: url("background"); 
    background-repeat: no-repeat; 
    background-size: cover;       
}

.login-container {
    background-color: white;
    padding: 30px 80px;
    border-radius: 50px; 
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    text-align: center;
}

input[type="text"], input[type="password"] {
    width: 100%;
    padding: 12px;
    margin: 8px 0;
    border: 1px solid #ccc;
    border-radius: 4px;
}

button {
    background-color: lightgray;
    color: black;
    padding: 12px 20px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 700;
    margin-top: 10px; /* Adjust as needed */
}
html, body, #securityTitle {
    margin: 0;
    padding: 0;
}
#securityTitle {
    position:absolute;
    top: 5%;
    left: 0;
    width: 100%;
    background: none; /* or any background color you want */
    text-align: center; /* if you want to center the text */
}

#loginB {
    background-color: rgb(131, 88, 87); /* Updated color */
    color: white; /* Changed to white for better contrast */
    padding: 12px 20px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    font-weight: 700;
    margin-top: 10px;
    font-size: 16px; /* Adjust the font size as necessary */
    text-align: center;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Optional: adds a shadow for depth */
    transition: all 0.3s; /* Smooth transition for hover effects */
    /* Additional styles if needed */
}



button:hover {
    background-color: #45a049;
}

.actions-container {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
}

.actions-container p {
    margin: 0; /* Removes default margin */
    display: inline-flex;
    align-items: center;
}

button[type="button"] {
    margin-left: 5px; /* Space between text and button */
    padding: 6px 12px; /* Smaller padding for a more compact look */
    font-size: 14px; /* Adjusted font size for button */
}

#loginBb {
    display: block; /* Block display to fill the container */
    width: 150px; /* Adjust width as needed */
    height: 100px; /* Adjust height as needed */
    background-color: #f2f2f2; /* Light grey background, change as needed */
    color: black; /* Text color */
    border: none; /* No border */
    border-radius: 30px; /* Rounded corners */
    margin: auto; /* Center the button horizontally */
    padding: 0; /* No padding */
    overflow: hidden; /* Prevents content from spilling outside the border-radius */
    position: relative; /* Allows absolute positioning inside the button */
    cursor: pointer; /* Pointer cursor on hover */
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); /* Optional: adds a shadow for depth */
    transition: all 0.3s; /* Smooth transition for hover effects */
}

#loginBb:hover {
    box-shadow: 0px 6px 12px rgba(0, 0, 0,0.5); /* Optional: changes the shadow on hover */
    transform: translateY(-2px); /* Optional: slight lift effect on hover */
}

#loginB:hover {
    box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.7); /* Optional: changes the shadow on hover */
    transform: translateY(-5px); /* Optional: slight lift effect on hover */
}

#loginBb:active {
    transform: translateY(1px); /* Optional: presses down effect on click */
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2); /* Optional: less shadow on click */
}

#loginBb h1 {
    margin: 0; /* Remove default margin */
    position: absolute; /* Absolute position within the button */
    top: 50%; /* Align top at 50% of button height */
    left: 50%; /* Align left at 50% of button width */
    transform: translate(-50%, -50%); /* Center the title */
    font-size: 24px; /* Adjust font size as needed */
    font-weight: normal; /* Adjust font weight as needed */
    color: inherit; /* Inherit text color from the button */
}


/* css for quick_menu.css */
.quick-menu {
    position: fixed;
    top: 0; /* Adjust the top position as needed to avoid overlapping with header */
    right: 0;
    width: 250px;
    height: 400px;
    background-color: #fff;
    border: 1px solid #ccc;
    padding: 10px;
    border-radius: 8px;
    display: none;
}

.user-info {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
    text-align: center;
}

.user-info img {
    /*align-self: center;*/
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin-right: 10px;
}

.username {
    font-weight: bold;
    margin-bottom: 10px;
}

.quick-menu ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.quick-menu li {
    margin-bottom: 10px;
}

.quick-menu a {
    text-decoration: none;
    color: #333;
}

/* css for men_toggles.css */
.menu-toggle {
    position: fixed;
    top: 30px;
    right: 30px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    width: 50px;
    height: 50px;
    cursor: pointer;
    z-index: 1;
}

.bar {
    width: 100%;
    height: 8px;
    background-color: #333;
    margin: 4px 1%;
    transition: background-color 0.3s;
}

.menu-toggle.active .bar:nth-child(1) {
    transform: translateY(15px) rotate(45deg);
}

.menu-toggle.active .bar:nth-child(2) {
    opacity: 0;
}

.menu-toggle.active .bar:nth-child(3) {
    transform: translateY(-15px) rotate(-45deg);
}

/* css for this html page */
        .content {
            display: flex;
            width: 50%;
            grid-template-columns: 1fr 1fr; /* Two columns */
            gap: 0%; /* Gap between cells */
            margin-top: 5%; /* Adjust margin-top to account for header */
            column-gap: 40%;
            column-width: 40%;
        }

        .column {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .cell {
            background-color: #f0f0f0; /* Cell background color */
            padding: 4%;
            border-radius: 2%;
            margin: 8%;
            flex-direction: row;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Box shadow for cell */
        }

        .budTotal {
            width: 200%;
            height: 20%;
        }

        .budItem {
            width: 180%;
            height: 20%;
        }

        .rightCell {
            width: 200%;
            height: 20%;
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            /*background-color: #333; /* Adjust background color as needed */
            padding: 3% 0; /* Adjust padding as needed */
            text-align: center; /* Align text in the center horizontally */
            color: #333; /* Text color */
        }

        @media screen and (max-width: 768px) {
        .hamburger-menu {
            top: 20px; /* Adjusted for consistency */
            right: 20px;
            width: 40px; /* Optimized size for mobile */
            height: 30px;
        }

        .hamburger-menu .bar {
            height: 3px; /* Thinner bars for a refined look */
        }

        .menu-container {
            width: 100%; /* Full width for easier navigation on mobile */
            right: 0; /* Adjust position to ensure visibility */
        }

        .content {
            flex-direction: column; /* Stack columns vertically on small screens */
            width: 100%; /* Use full screen width */
            margin-top: 120px; /* Increase top margin to accommodate fixed header */
        }

        .column, .cell, .budTotal, .budItem, .rightCell {
            width: 90%; /* Adjust width to better fit mobile screens */
            margin: 10px auto; /* Center elements horizontally with automatic margins */
            padding: 15px; /* Adjust padding for readability */
        }

        header {
            padding: 15px 0; /* Adjust header padding on smaller screens */
        }

        /* Adjust input fields and buttons for easier interaction on mobile */
        input[type="text"], input[type="password"], button {
            padding: 15px; /* Increase padding for larger touch targets */
        }

        #loginB, #loginBb {
            width: auto; /* Allow buttons to adjust width based on content */
            margin: 10px auto; /* Center buttons horizontally */
            padding: 12px 20px; /* Adjust button padding */
        }
    }
        

        @media screen and (max-width: 768px) {
        .hamburger-menu {
            top: 20px; /* Adjusted for consistency */
            right: 20px;
            width: 40px; /* Optimized size for mobile */
            height: 30px;
        }

        .hamburger-menu .bar {
            height: 3px; /* Thinner bars for a refined look */
        }

        .menu-container {
            width: 100%; /* Full width for easier navigation on mobile */
            right: 0; /* Adjust position to ensure visibility */
        }

        .content {
            flex-direction: column; /* Stack columns vertically on small screens */
            width: 100%; /* Use full screen width */
            margin-top: 120px; /* Increase top margin to accommodate fixed header */
        }

        .column, .cell, .budTotal, .budItem, .rightCell {
            width: 90%; /* Adjust width to better fit mobile screens */
            margin: 10px auto; /* Center elements horizontally with automatic margins */
            padding: 15px; /* Adjust padding for readability */
        }

        header {
            padding: 15px 0; /* Adjust header padding on smaller screens */
        }

        /* Adjust input fields and buttons for easier interaction on mobile */
        input[type="text"], input[type="password"], button {
            padding: 15px; /* Increase padding for larger touch targets */
        }

        #loginB, #loginBb {
            width: auto; /* Allow buttons to adjust width based on content */
            margin: 10px auto; /* Center buttons horizontally */
            padding: 12px 20px; /* Adjust button padding */
        }
    }
    .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background-color: white;
            border: 1px solid lightgray;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            opacity: 0; /* Initial opacity for smooth transition */
            visibility: hidden; /* Start hidden */
            transition: opacity 0.5s; /* Transition for smooth fade-in */
        }

        .popup.show {
            opacity: 1;
            visibility: visible; /* Show the popup with smooth transition */
        }

        .profile-pics {
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 20px;
        }

        .profile-pics img {
            width: 100px;
            height: 100px;
            border: 2px solid gray;
            cursor: pointer;
            transition: border-color 0.3s; /* Smooth hover effect */
        }

        .profile-pics img:hover {
            border-color: blue; /* Change border color on hover */
        }

    </style>
</head>
<body>
    <header>
        <img id="profile-img" src="" alt="Profile Picture" width="40" height="40">
        <h1>Main Page</h1>
        <h1 id="greeting">Welcome!</h1>
    </header>
    <div class="popup" id="profile-popup">
        <h2>Select Your Profile Picture</h2>
        <div class="profile-pics">
            <img src="jerry.png" onclick="selectProfile(this)">
            <img src="harleyquinn.png" onclick="selectProfile(this)">
            <img src="joker.png" onclick="selectProfile(this)">
            <img src="robotguy.png" onclick="selectProfile(this)">
            <img src="tom.png" onclick="selectProfile(this)">
            <img src="wonderwoman.png" onclick="selectProfile(this)">
        </div>
    </div>
    <div class="menu-toggle" id="menuToggle">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
    </div>
    <!--<div class="quick-menu" id="quickMenu" include="./quick_menu.html"></div>-->
    <!--<script src="inject.js"></script>-->
    <div class="quick-menu" id="quickMenu">
        <div class="user-info">
            <img src="user-icon.jpg" alt="Profile Picture">
            <span class="username" id="username">username</span>
          </div>
          <ul class="menu-options">
            <li><a href="home.html">Home</a></li>
            <li><a href="display_info.html">Account</a></li>
            <li><a href="financialGoal.html">Financial Goal</a></li>
            <li><a href="updatedcredit.html">Credit Score</a></li>
            <li><a href="CostomizeCategory.html">Create New Category</a></li>
            <li><a href="#">Standard Investments</a></li>
            <li><a href="#">Bond Investments</a></li>
            <li><a href="#">Combined Expenses</a></li>
            <li><a href="#">Education</a></li>
            <li><a href="setting.html">Settings</a></li>
          </ul>
    </div>
    <script src="quick_menu.js"></script>
    
    <div class="content">
        <div class="column">
            <div class="cell budTotal" id="budTotal">
                <h2>Total Budget</h2>
                <p>000.00/000.00</p>
            </div>
            <div class="cell budItem" id="bud1" onclick="editCategory('bud1')">
                <h2>Category 1</h2>
                <p>000.00/000.00</p>
            </div>
            <div class="cell budItem" id="bud2" onclick="editCategory('bud2')">
                <h2>Category 2</h2>
                <p>000.00/000.00</p>
            </div>
            <div class="cell budItem" id="bud3" onclick="editCategory('bud3')">
                <h2>Category 3</h2>
                <p>000.00/000.00</p>
            </div>
        </div>

        <div class="column">
            <div class="cell rightCell" onclick="redirectToDetailsPage('Main Account', 12345.67, 'User Name', '1234567890')">
                <h2>Main Account</h2>
                <p>12345.67</p>
            </div>
            <div class="cell rightCell" onclick="redirectToDetailsPage('Second Account', 12345.67, 'User Name', '1234567890')">
                <h2>Second Account</h2>
                <p>12345.67</p>
            </div>
            <div class="cell rightCell" onclick="redirectToDebtPage()">
                <h2>Debt Account</h2>
                <p>-12345.67</p>
            </div>
            <div class="cell rightCell" id="noteTakingAccess" onclick="redirectToNoteTaking()">
                <h2>Notes/Information</h2>
                <p>Click Here For Either</p>
            </div>
            
        </div>
    </div>
<!--So far added just the burger menu. Will need to throw in the actual main page items too-->
    <script src="home.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    fetchCategories();
});
function redirectToNoteTaking() {
    window.location.href = "decision.html"; // Update this URL to where your note-taking application is hosted
}
function redirectToDetailsPage(accountName, amount, userName, accountNumber) {
    const queryParams = new URLSearchParams({
        accountName,
        amount,
        userName,
        accountNumber
    }).toString();

    window.location.href = `account_details.html?${queryParams}`;
}

function redirectToDebtPage() {
    window.location.href = `debtvalgpt.html`;
}


function fetchCategories() {

            fetch('getCategory.php')
                .then(response => response.json())
                .then(data => {
                    if(data.success && data.categories) {
                        updateCategoryElements(data.categories);
                    } else {
                        console.error('Failed to fetch categories:', data.message);
                    }
                })
                .catch(error => console.error('Error fetching categories:', error));
        }

        function updateCategoryElements(categories) {
            categories.forEach((category, index) => {
                const budElement = document.getElementById(`bud${index + 1}`);
                if(budElement) {
                    budElement.innerHTML = `<h2>${category.Name}</h2><p>${category.CurrentBudget}/${category.TotalBudget}</p>`;
                    budElement.setAttribute("onclick", `editCategory('${category.Name}')`);
                }
            });
        }

        function editCategory(categoryName) {
            window.location.href = `CostomizeCategory.html?category=${encodeURIComponent(categoryName)}`;
        }

    fetch('getCategory.php')
        .then(response => response.json())
        .then(data => {
            if(data.success && data.categories) {
                updateCategoryElements(data.categories);
            } else {
                console.error('Failed to fetch categories:', data.message);
            }
        })
        .catch(error => console.error('Error fetching categories:', error));


        function updateCategoryElements(categories) {
            categories.forEach((category, index) => {
                const budElement = document.getElementById(`bud${index + 1}`);
                if(budElement) {
                    budElement.innerHTML = `<h2>${category.Name}</h2><p>${category.CurrentBudget}/${category.TotalBudget}</p>`;
                    budElement.setAttribute("onclick", `editCategory('${category.Name}')`);
                }
            });
        }

        function editCategory(categoryName) {
            window.location.href = `CostomizeCategory.html?category=${encodeURIComponent(categoryName)}`;
        }
    </script>
</body>
</html>